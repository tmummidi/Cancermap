(()=>{var e,t={108:function(e){!function(){"use strict";var t=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n,a;return(n="application/font-woff",a="image/jpeg",{woff:n,woff2:n,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:a,jpeg:a,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[t(e).toLowerCase()]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),a=n.length,o=new Uint8Array(a),i=0;i<a;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),a=n.createElement("base");n.head.appendChild(a);var o=n.createElement("a");return n.body.appendChild(o),a.href=t,o.href=e,o.href},getAndEncode:function(e){return l.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime()),new Promise((function(t){var n,a=new XMLHttpRequest;if(a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var o=new FileReader;o.onloadend=function(){var e=o.result.split(/,/)[1];t(e)},o.readAsDataURL(a.response)}else n?t(n):i("cannot fetch resource: "+e+", status: "+a.status)},a.ontimeout=function(){n?t(n):i("timeout of 30000ms occured while fetching resource: "+e)},a.responseType="blob",a.timeout=3e4,a.open("GET",e,!0),a.send(),l.impl.options.imagePlaceholder){var o=l.impl.options.imagePlaceholder.split(/,/);o&&o[1]&&(n=o[1])}function i(e){console.error(e),t("")}}))},uid:(e=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+e++}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,a=0;a<n;a++)t.push(e[a]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src=e}))},width:function(e){var t=n(e,"border-left-width"),a=n(e,"border-right-width");return e.scrollWidth+t+a},height:function(e){var t=n(e,"border-top-width"),a=n(e,"border-bottom-width");return e.scrollHeight+t+a}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),n=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,t,i){return n(e)?Promise.resolve(e).then(a).then((function(n){var a=Promise.resolve(e);return n.forEach((function(e){a=a.then((function(n){return o(n,e,t,i)}))})),a})):Promise.resolve(e)},shouldProcess:n,impl:{readUrls:a,inline:o}};function n(t){return-1!==t.search(e)}function a(n){for(var a,o=[];null!==(a=e.exec(n));)o.push(a[1]);return o.filter((function(e){return!t.isDataUrl(e)}))}function o(e,n,a,o){return Promise.resolve(n).then((function(e){return a?t.resolveUrl(e,a):e})).then(o||t.getAndEncode).then((function(e){return t.dataAsUrl(e,t.mimeType(n))})).then((function(a){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+t.escape(e)+")(['\"]?\\))","g")}(n),"$1"+a+"$3")}))}}(),a=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(t.asArray(document.styleSheets)).then((function(e){var n=[];return e.forEach((function(e){try{t.asArray(e.cssRules||[]).forEach(n.push.bind(n))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),n})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return n.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return n.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),o=function(){return{inlineAll:function a(o){return o instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?n.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}(o).then((function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(t.asArray(o.childNodes).map((function(e){return a(e)})))})):Promise.resolve(o)},impl:{newImage:e}};function e(e){return{inline:function(n){return t.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(n||t.getAndEncode).then((function(n){return t.dataAsUrl(n,t.mimeType(e.src))})).then((function(t){return new Promise((function(n,a){e.onload=n,e.onerror=a,e.src=t}))}))}}}}(),i=void 0,r=!1,l={toSvg:c,toPng:function(e,t){return s(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return s(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,n){return s(e,n||{}).then(t.canvasToBlob)},toPixelData:function(e,n){return s(e,n||{}).then((function(n){return n.getContext("2d").getImageData(0,0,t.width(e),t.height(e)).data}))},impl:{fontFaces:a,images:o,util:t,inliner:n,options:{}}};function c(e,n){return function(e){void 0===e.imagePlaceholder?l.impl.options.imagePlaceholder=i:l.impl.options.imagePlaceholder=e.imagePlaceholder,void 0===e.cacheBust?l.impl.options.cacheBust=r:l.impl.options.cacheBust=e.cacheBust}(n=n||{}),Promise.resolve(e).then((function(e){return d(e,n.filter,!0)})).then(u).then(p).then((function(e){return n.bgcolor&&(e.style.backgroundColor=n.bgcolor),n.width&&(e.style.width=n.width+"px"),n.height&&(e.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach((function(t){e.style[t]=n.style[t]})),e})).then((function(a){return function(e,n,a){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(t.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+a+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(a,n.width||t.width(e),n.height||t.height(e))}))}function s(e,n){return c(e,n).then(t.makeImage).then(t.delay(100)).then((function(a){var o=function(e){var a=document.createElement("canvas");if(a.width=n.width||t.width(e),a.height=n.height||t.height(e),n.bgcolor){var o=a.getContext("2d");o.fillStyle=n.bgcolor,o.fillRect(0,0,a.width,a.height)}return a}(e);return o.getContext("2d").drawImage(a,0,0),o}))}function d(e,n,a){return a||!n||n(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?t.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(a){return function(e,n,a){var o=e.childNodes;return 0===o.length?Promise.resolve(n):function(e,t,n){var a=Promise.resolve();return t.forEach((function(t){a=a.then((function(){return d(t,n)})).then((function(t){t&&e.appendChild(t)}))})),a}(n,t.asArray(o),a).then((function(){return n}))}(e,a,n)})).then((function(n){return function(e,n){return n instanceof Element?Promise.resolve().then((function(){a=window.getComputedStyle(e),o=n.style,a.cssText?o.cssText=a.cssText:function(e,n){t.asArray(e).forEach((function(t){n.setProperty(t,e.getPropertyValue(t),e.getPropertyPriority(t))}))}(a,o);var a,o})).then((function(){[":before",":after"].forEach((function(a){!function(a){var o=window.getComputedStyle(e,a),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var r=t.uid();n.className=n.className+" "+r;var l=document.createElement("style");l.appendChild(function(e,n,a){var o="."+e+":"+n,i=a.cssText?r(a):l(a);return document.createTextNode(o+"{"+i+"}");function r(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function l(e){return t.asArray(e).map(n).join("; ")+";";function n(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}(r,a,o)),n.appendChild(l)}}(a)}))})).then((function(){if(e instanceof HTMLSelectElement&&n.options[e.selectedIndex].setAttribute("selected",!0),e instanceof HTMLTextAreaElement&&(n.innerHTML=e.value),e instanceof HTMLInputElement)switch(e.type){case"text":case"number":case"email":case"date":case"hidden":n.setAttribute("value",e.value);break;case"checkbox":e.checked&&n.setAttribute("checked",!0)}})).then((function(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach((function(e){var t=n.getAttribute(e);t&&n.style.setProperty(e,t)})))})).then((function(){return n})):n}(e,n)})):Promise.resolve()}function u(e){return a.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function p(e){return o.inlineAll(e).then((function(){return e}))}e.exports=l}()},94:()=>{L.Control.BoxZoom=L.Control.extend({options:{position:"topright",aspectRatio:null,enableShiftDrag:!1,keepOn:!1},initialize:function(e){L.setOptions(this,e),this.map=null,this.active=!1},onAdd:function(e){if(this.map=e,this.active=!1,this.controlDiv=L.DomUtil.create("div","leaflet-control-boxzoom"),this.controlDiv.control=this,this.controlDiv.title="Click here then draw a square on the map, to zoom in to an area",L.DomEvent.addListener(this.controlDiv,"click",(function(){this.control.toggleState()})),L.DomUtil.create("i","fa fa-search-plus",this.controlDiv),L.DomUtil.create("span","leaflet-control-boxzoom-text",this.controlDiv).innerHTML="Box Zoom",this.setStateOff(),this.options.iconClasses){var t=L.DomUtil.create("i",this.options.iconClasses,this.controlDiv);t?(t.style.color=this.options.iconColor||"black",t.style.textAlign="center",t.style.verticalAlign="middle"):console.log("Unable to create element for icon")}return this.options.aspectRatio&&(this.map.boxZoom.aspectRatio=this.options.aspectRatio,this.map.boxZoom._onMouseMove=this._boxZoomControlOverride_onMouseMove,this.map.boxZoom._onMouseUp=this._boxZoomControlOverride_onMouseUp),L.DomEvent.disableClickPropagation(this.controlDiv),L.DomEvent.disableScrollPropagation(this.controlDiv),this.controlDiv},onRemove:function(e){this.options.aspectRatio&&(delete this.map.boxZoom.aspectRatio,this.map.boxZoom._onMouseMove=L.Map.BoxZoom.prototype._onMouseMove,this.map.boxZoom._onMouseUp=L.Map.BoxZoom.prototype._onMouseUp)},toggleState:function(){this.active?this.setStateOff():this.setStateOn()},setStateOn:function(){L.DomUtil.addClass(this.controlDiv,"leaflet-control-boxzoom-active"),this.active=!0,this.map.dragging.disable(),this.options.enableShiftDrag||this.map.boxZoom.addHooks(),this.map.on("mousedown",this.handleMouseDown,this),this.options.keepOn||this.map.on("boxzoomend",this.setStateOff,this),L.DomUtil.addClass(this.map._container,"leaflet-control-boxzoom-active")},setStateOff:function(){L.DomUtil.removeClass(this.controlDiv,"leaflet-control-boxzoom-active"),this.active=!1,this.map.off("mousedown",this.handleMouseDown,this),this.map.dragging.enable(),this.options.enableShiftDrag||this.map.boxZoom.removeHooks(),L.DomUtil.removeClass(this.map._container,"leaflet-control-boxzoom-active")},handleMouseDown:function(e){this.map.boxZoom._onMouseDown.call(this.map.boxZoom,{clientX:e.originalEvent.clientX,clientY:e.originalEvent.clientY,which:1,shiftKey:!0})},_boxZoomControlOverride_onMouseMove:function(e){this._moved||(this._box=L.DomUtil.create("div","leaflet-zoom-box",this._pane),L.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var t=this._startLayerPoint,n=this._box,a=this._map.mouseEventToLayerPoint(e),o=a.subtract(t),i=new L.Point(Math.min(a.x,t.x),Math.min(a.y,t.y));L.DomUtil.setPosition(n,i),this._moved=!0;var r=Math.max(0,Math.abs(o.x)-4),l=Math.max(0,Math.abs(o.y)-4);this.aspectRatio&&(l=r/this.aspectRatio),n.style.width=r+"px",n.style.height=l+"px"},_boxZoomControlOverride_onMouseUp:function(e){var t=this._box._leaflet_pos,n=new L.Point(this._box._leaflet_pos.x+this._box.offsetWidth,this._box._leaflet_pos.y+this._box.offsetHeight),a=this._map.layerPointToLatLng(t),o=this._map.layerPointToLatLng(n);if(!a.equals(o)){this._finish();var i=new L.LatLngBounds(a,o);this._map.fitBounds(i),this._map.fire("boxzoomend",{boxZoomBounds:i})}}}),L.Control.boxzoom=function(e){return new L.Control.BoxZoom(e)}},457:()=>{L.Control.ChoroplethLegend=L.Control.extend({options:{position:"topright",expanded:!1,selectoptions:[],onChoroplethChange:function(){}},initialize:function(e){L.setOptions(this,e)},onAdd:function(e){var t=this;return this._map=e,this.container=L.DomUtil.create("div","leaflet-control leaflet-bar leaflet-choroplethlegend-control leaflet-choroplethlegend-collapsed"),this.content_collapsed=L.DomUtil.create("div","leaflet-choroplethlegend-button",this.container),this.content_expanded=L.DomUtil.create("div","leaflet-choroplethlegend-content",this.container),this.content_collapsed.innerHTML='<i class="fa fa-bars"></i>',this.closebutton=L.DomUtil.create("i","leaflet-choroplethlegend-closebutton",this.content_expanded),this.closebutton.innerHTML="&times;",this.headtext=L.DomUtil.create("div","leaflet-choroplethlegend-headtext",this.content_expanded),this.headtext.innerHTML="Color By",this.selector=L.DomUtil.create("select","leaflet-choroplethlegend-select",this.content_expanded),this.selector.setAttribute("aria-label","Select how to color the map"),this.options.selectoptions.forEach((function(e){var n=L.DomUtil.create("option","",t.selector);n.innerHTML=e.label,n.value=e.field})),this.legendgradient=L.DomUtil.create("div","leaflet-choroplethlegend-legendgradient",this.content_expanded),this.legendminvalue=L.DomUtil.create("div","leaflet-choroplethlegend-minvalue",this.content_expanded),this.legendmaxvalue=L.DomUtil.create("div","leaflet-choroplethlegend-maxvalue",this.content_expanded),L.DomEvent.disableClickPropagation(this.container),L.DomEvent.disableScrollPropagation(this.container),L.DomEvent.addListener(this.content_collapsed,"keydown",(function(e){13==e.keyCode&&t.content_collapsed.click()})),L.DomEvent.addListener(this.closebutton,"keydown",(function(e){13==e.keyCode&&t.closebutton.click()})),L.DomEvent.addListener(this.content_collapsed,"click",(function(){t.expand()})),L.DomEvent.addListener(this.closebutton,"click",(function(){t.collapse()})),this.options.expanded&&setTimeout((function(){t.expand()}),500),this._map.options.keyboard&&(this.content_collapsed.tabIndex=0,this.closebutton.tabIndex=0),L.DomEvent.addListener(this.selector,"change",(function(){var e=t.getSelection();t.options.onChoroplethChange(e)})),this.container},expand:function(e){L.DomUtil.addClass(this.container,"leaflet-choroplethlegend-expanded"),L.DomUtil.removeClass(this.container,"leaflet-choroplethlegend-collapsed")},collapse:function(e){L.DomUtil.removeClass(this.container,"leaflet-choroplethlegend-expanded"),L.DomUtil.addClass(this.container,"leaflet-choroplethlegend-collapsed")},getSelection:function(){return this.selector.options[this.selector.selectedIndex].value},getSelectionLabel:function(){return this.selector.options[this.selector.selectedIndex].innerHTML},setSelection:function(e){this.selector.value=e;var t=new Event("change");this.selector.dispatchEvent(t)},setMinMax:function(e,t){this.legendminvalue.innerHTML=e,this.legendmaxvalue.innerHTML=t},setGradientColors:function(e){var t="linear-gradient(to right, ".concat(e.join(", "),")");this.legendgradient.style.backgroundImage=t},setPrintMode:function(e){e?L.DomUtil.addClass(this._container,"leaflet-choroplethlegend-printmode"):L.DomUtil.removeClass(this._container,"leaflet-choroplethlegend-printmode")}})},647:()=>{L.Control.LayerPicker=L.Control.extend({options:{position:"bottomright",expanded:!1,layers:[],onLayerChange:function(){}},initialize:function(e){L.setOptions(this,e)},onAdd:function(e){var t=this;return this._map=e,this.container=L.DomUtil.create("div","leaflet-control leaflet-bar leaflet-layerpicker-control leaflet-layerpicker-collapsed"),this.content_collapsed=L.DomUtil.create("div","leaflet-layerpicker-button",this.container),this.content_expanded=L.DomUtil.create("div","leaflet-layerpicker-content",this.container),this.content_collapsed.innerHTML='<i class="fa fa-layer-group"></i>',this.closebutton=L.DomUtil.create("i","leaflet-layerpicker-closebutton",this.content_expanded),this.closebutton.innerHTML="&times;",this.headtext=L.DomUtil.create("div","leaflet-layerpicker-headtext",this.content_expanded),this.headtext.innerHTML="Reference Layers",this.layercheckboxes={},this.options.layers.forEach((function(e){var n=L.DomUtil.create("label","leaflet-layerpicker-layerentry",t.content_expanded),a=L.DomUtil.create("input","leaflet-layerpicker-checkbox",n);a.type="checkbox",a.value=e.id,L.DomUtil.create("span","leaflet-layerpicker-name",n).innerHTML=e.label,L.DomEvent.addListener(a,"change",(function(){t.toggleLayer(a.value,a.checked)})),t.layercheckboxes[e.id]={id:e.id,label:e.label,maplayer:e.layer,checkbox:a},e.checked&&(a.checked=!0,t.toggleLayer(a.value,a.checked))})),L.DomEvent.disableClickPropagation(this.container),L.DomEvent.disableScrollPropagation(this.container),L.DomEvent.addListener(this.content_collapsed,"keydown",(function(e){13==e.keyCode&&t.content_collapsed.click()})),L.DomEvent.addListener(this.closebutton,"keydown",(function(e){13==e.keyCode&&t.closebutton.click()})),L.DomEvent.addListener(this.content_collapsed,"click",(function(){t.expand()})),L.DomEvent.addListener(this.closebutton,"click",(function(){t.collapse()})),this.options.expanded&&setTimeout((function(){t.expand()}),500),this._map.options.keyboard&&(this.content_collapsed.tabIndex=0,this.closebutton.tabIndex=0),this.container},expand:function(e){L.DomUtil.addClass(this.container,"leaflet-layerpicker-expanded"),L.DomUtil.removeClass(this.container,"leaflet-layerpicker-collapsed")},collapse:function(e){L.DomUtil.removeClass(this.container,"leaflet-layerpicker-expanded"),L.DomUtil.addClass(this.container,"leaflet-layerpicker-collapsed")},toggleLayer:function(e,t){var n=this.layercheckboxes[e];t?(n.checkbox.checked=!0,this._map.addLayer(n.maplayer)):(n.checkbox.checked=!1,this._map.removeLayer(n.maplayer)),this.options.onLayerChange(e,t)},getLayerStates:function(){return Object.values(this.layercheckboxes).map((function(e){return{id:e.id,label:e.label,checked:e.checkbox.checked}}))}})},516:()=>{L.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),L.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",L.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!=this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},672:()=>{L.TopoJSON=L.GeoJSON.extend({addData:function(e){var t,n;if("Topology"===e.type){for(n in e.objects)e.objects.hasOwnProperty(n)&&(t=topojson.feature(e,e.objects[n]),L.GeoJSON.prototype.addData.call(this,t));return this}return L.GeoJSON.prototype.addData.call(this,e),this}}),L.topoJson=function(e,t){return new L.TopoJSON(e,t)}},619:(e,t,n)=>{var a=n(108),o=n(609);L.Control.EasyPrint=L.Control.extend({options:{title:"Print map",position:"topleft",sizeModes:["Current"],filename:"map",exportOnly:!1,hidden:!1,tileWait:500,hideControlContainer:!0,hideClasses:[],customWindowTitle:window.document.title,spinnerBgCOlor:"#0DC5C1",customSpinnerClass:"epLoader",defaultSizeTitles:{Current:"Current Size",A4Landscape:"A4 Landscape",A4Portrait:"A4 Portrait"}},onAdd:function(){this.mapContainer=this._map.getContainer(),this.options.sizeModes=this.options.sizeModes.map((function(e){return"Current"===e?{name:this.options.defaultSizeTitles.Current,className:"CurrentSize"}:"A4Landscape"===e?{height:this._a4PageSize.height,width:this._a4PageSize.width,name:this.options.defaultSizeTitles.A4Landscape,className:"A4Landscape page"}:"A4Portrait"===e?{height:this._a4PageSize.width,width:this._a4PageSize.height,name:this.options.defaultSizeTitles.A4Portrait,className:"A4Portrait page"}:e}),this);var e=L.DomUtil.create("div","leaflet-control-easyPrint leaflet-bar leaflet-control");if(!this.options.hidden){this._addCss(),L.DomEvent.addListener(e,"mouseover",this._togglePageSizeButtons,this),L.DomEvent.addListener(e,"mouseout",this._togglePageSizeButtons,this);var t="leaflet-control-easyPrint-button";this.options.exportOnly&&(t+="-export"),this.link=L.DomUtil.create("a",t,e),this.link.id="leafletEasyPrint",this.link.title=this.options.title,this.holder=L.DomUtil.create("ul","easyPrintHolder",e),this.options.sizeModes.forEach((function(e){var t=L.DomUtil.create("li","easyPrintSizeMode",this.holder);t.title=e.name,L.DomUtil.create("a",e.className,t),L.DomEvent.addListener(t,"click",this.printMap,this)}),this),L.DomEvent.disableClickPropagation(e)}return e},printMap:function(e,t){t&&(this.options.filename=t),this.options.exportOnly||(this._page=window.open("","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10, top=10, width=200, height=250, visible=none"),this._page.document.write(this._createSpinner(this.options.customWindowTitle,this.options.customSpinnerClass,this.options.spinnerBgCOlor))),this.originalState={mapWidth:this.mapContainer.style.width,widthWasAuto:!1,widthWasPercentage:!1,mapHeight:this.mapContainer.style.height,zoom:this._map.getZoom(),center:this._map.getCenter()},"auto"===this.originalState.mapWidth?(this.originalState.mapWidth=this._map.getSize().x+"px",this.originalState.widthWasAuto=!0):this.originalState.mapWidth.includes("%")&&(this.originalState.percentageWidth=this.originalState.mapWidth,this.originalState.widthWasPercentage=!0,this.originalState.mapWidth=this._map.getSize().x+"px"),this._map.fire("easyPrint-start",{event:e}),this.options.hidden||this._togglePageSizeButtons({type:null}),this.options.hideControlContainer&&this._toggleControls(),this.options.hideClasses&&this._toggleClasses(this.options.hideClasses);var n="string"!=typeof e?e.target.className:e;if("CurrentSize"===n)return this._printOpertion(n);this.outerContainer=this._createOuterContainer(this.mapContainer),this.originalState.widthWasAuto&&(this.outerContainer.style.width=this.originalState.mapWidth),this._createImagePlaceholder(n)},_createImagePlaceholder:function(e){var t=this;a.toPng(this.mapContainer,{width:parseInt(this.originalState.mapWidth.replace("px")),height:parseInt(this.originalState.mapHeight.replace("px"))}).then((function(n){t.blankDiv=document.createElement("div");var a=t.blankDiv;t.outerContainer.parentElement.insertBefore(a,t.outerContainer),a.className="epHolder",a.style.backgroundImage='url("'+n+'")',a.style.position="absolute",a.style.zIndex=1011,a.style.display="initial",a.style.width=t.originalState.mapWidth,a.style.height=t.originalState.mapHeight,t._resizeAndPrintMap(e)})).catch((function(e){console.error("oops, something went wrong!",e)}))},_resizeAndPrintMap:function(e){this.outerContainer.style.opacity=0;var t=this.options.sizeModes.filter((function(t){return t.className.indexOf(e)>-1}));t=t[0],this.mapContainer.style.width=t.width+"px",this.mapContainer.style.height=t.height+"px",this.mapContainer.style.width>this.mapContainer.style.height?this.orientation="portrait":this.orientation="landscape",this._map.setView(this.originalState.center),this._map.setZoom(this.originalState.zoom),this._map.invalidateSize(),this.options.tileLayer?this._pausePrint(e):this._printOpertion(e)},_pausePrint:function(e){var t=this,n=setInterval((function(){t.options.tileLayer.isLoading()||(clearInterval(n),t._printOpertion(e))}),t.options.tileWait)},_printOpertion:function(e){var t=this,n=this.mapContainer.style.width;(this.originalState.widthWasAuto&&"CurrentSize"===e||this.originalState.widthWasPercentage&&"CurrentSize"===e)&&(n=this.originalState.mapWidth),a.toPng(t.mapContainer,{width:parseInt(n),height:parseInt(t.mapContainer.style.height.replace("px"))}).then((function(e){var n=t._dataURItoBlob(e);t.options.exportOnly?o.saveAs(n,t.options.filename+".png"):t._sendToBrowserPrint(e,t.orientation),t._toggleControls(!0),t._toggleClasses(t.options.hideClasses,!0),t.outerContainer&&(t.originalState.widthWasAuto?t.mapContainer.style.width="auto":t.originalState.widthWasPercentage?t.mapContainer.style.width=t.originalState.percentageWidth:t.mapContainer.style.width=t.originalState.mapWidth,t.mapContainer.style.height=t.originalState.mapHeight,t._removeOuterContainer(t.mapContainer,t.outerContainer,t.blankDiv),t._map.invalidateSize(),t._map.setView(t.originalState.center),t._map.setZoom(t.originalState.zoom)),t._map.fire("easyPrint-finished")})).catch((function(e){console.error("Print operation failed",e)}))},_sendToBrowserPrint:function(e,t){this._page.resizeTo(600,800);var n=this._createNewWindow(e,t,this);this._page.document.body.innerHTML="",this._page.document.write(n),this._page.document.close()},_createSpinner:function(e,t,n){return"<html><head><title>"+e+"</title></head><body><style>\n      body{\n        background: "+n+";\n      }\n      .epLoader,\n      .epLoader:before,\n      .epLoader:after {\n        border-radius: 50%;\n      }\n      .epLoader {\n        color: #ffffff;\n        font-size: 11px;\n        text-indent: -99999em;\n        margin: 55px auto;\n        position: relative;\n        width: 10em;\n        height: 10em;\n        box-shadow: inset 0 0 0 1em;\n        -webkit-transform: translateZ(0);\n        -ms-transform: translateZ(0);\n        transform: translateZ(0);\n      }\n      .epLoader:before,\n      .epLoader:after {\n        position: absolute;\n        content: '';\n      }\n      .epLoader:before {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 10.2em 0 0 10.2em;\n        top: -0.1em;\n        left: -0.1em;\n        -webkit-transform-origin: 5.2em 5.1em;\n        transform-origin: 5.2em 5.1em;\n        -webkit-animation: load2 2s infinite ease 1.5s;\n        animation: load2 2s infinite ease 1.5s;\n      }\n      .epLoader:after {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 0 10.2em 10.2em 0;\n        top: -0.1em;\n        left: 5.1em;\n        -webkit-transform-origin: 0px 5.1em;\n        transform-origin: 0px 5.1em;\n        -webkit-animation: load2 2s infinite ease;\n        animation: load2 2s infinite ease;\n      }\n      @-webkit-keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      @keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      </style>\n    <div class=\""+t+'">Loading...</div></body></html>'},_createNewWindow:function(e,t,n){return"<html><head>\n        <style>@media print {\n          img { max-width: 98%!important; max-height: 98%!important; }\n          @page { size: "+t+";}}\n        </style>\n        <script>function step1(){\n        setTimeout('step2()', 10);}\n        function step2(){window.print();window.close()}\n        <\/script></head><body onload='step1()'>\n        <img src=\""+e+'" style="display:block; margin:auto;"></body></html>'},_createOuterContainer:function(e){var t=document.createElement("div");return e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),t.appendChild(e),t.style.width=e.style.width,t.style.height=e.style.height,t.style.display="inline-block",t.style.overflow="hidden",t},_removeOuterContainer:function(e,t,n){t.parentNode&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(n),t.parentNode.removeChild(t))},_addCss:function(){var e=document.createElement("style");e.type="text/css",e.innerHTML=".leaflet-control-easyPrint-button { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNMTI4LDMyaDI1NnY2NEgxMjhWMzJ6IE00ODAsMTI4SDMyYy0xNy42LDAtMzIsMTQuNC0zMiwzMnYxNjBjMCwxNy42LDE0LjM5OCwzMiwzMiwzMmg5NnYxMjhoMjU2VjM1Mmg5NiAgIGMxNy42LDAsMzItMTQuNCwzMi0zMlYxNjBDNTEyLDE0Mi40LDQ5Ny42LDEyOCw0ODAsMTI4eiBNMzUyLDQ0OEgxNjBWMjg4aDE5MlY0NDh6IE00ODcuMTk5LDE3NmMwLDEyLjgxMy0xMC4zODcsMjMuMi0yMy4xOTcsMjMuMiAgIGMtMTIuODEyLDAtMjMuMjAxLTEwLjM4Ny0yMy4yMDEtMjMuMnMxMC4zODktMjMuMiwyMy4xOTktMjMuMkM0NzYuODE0LDE1Mi44LDQ4Ny4xOTksMTYzLjE4Nyw0ODcuMTk5LDE3NnoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .leaflet-control-easyPrint-button-export { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDQzMy41IDQzMy41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MzMuNSA0MzMuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJmaWxlLWRvd25sb2FkIj4KCQk8cGF0aCBkPSJNMzk1LjI1LDE1M2gtMTAyVjBoLTE1M3YxNTNoLTEwMmwxNzguNSwxNzguNUwzOTUuMjUsMTUzeiBNMzguMjUsMzgyLjV2NTFoMzU3di01MUgzOC4yNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .easyPrintHolder a {\n      background-size: 16px 16px;\n      cursor: pointer;\n    }\n    .easyPrintHolder .CurrentSize{\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTZweCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiPgogIDxnPgogICAgPGcgZmlsbD0iIzFEMUQxQiI+CiAgICAgIDxwYXRoIGQ9Ik0yNS4yNTUsMzUuOTA1TDQuMDE2LDU3LjE0NVY0Ni41OWMwLTEuMTA4LTAuODk3LTIuMDA4LTIuMDA4LTIuMDA4QzAuODk4LDQ0LjU4MiwwLDQ1LjQ4MSwwLDQ2LjU5djE1LjQwMiAgICBjMCwwLjI2MSwwLjA1MywwLjUyMSwwLjE1NSwwLjc2N2MwLjIwMywwLjQ5MiwwLjU5NCwwLjg4MiwxLjA4NiwxLjA4N0MxLjQ4Niw2My45NDcsMS43NDcsNjQsMi4wMDgsNjRoMTUuNDAzICAgIGMxLjEwOSwwLDIuMDA4LTAuODk4LDIuMDA4LTIuMDA4cy0wLjg5OC0yLjAwOC0yLjAwOC0yLjAwOEg2Ljg1NWwyMS4yMzgtMjEuMjRjMC43ODQtMC43ODQsMC43ODQtMi4wNTUsMC0yLjgzOSAgICBTMjYuMDM5LDM1LjEyMSwyNS4yNTUsMzUuOTA1eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgICA8cGF0aCBkPSJtNjMuODQ1LDEuMjQxYy0wLjIwMy0wLjQ5MS0wLjU5NC0wLjg4Mi0xLjA4Ni0xLjA4Ny0wLjI0NS0wLjEwMS0wLjUwNi0wLjE1NC0wLjc2Ny0wLjE1NGgtMTUuNDAzYy0xLjEwOSwwLTIuMDA4LDAuODk4LTIuMDA4LDIuMDA4czAuODk4LDIuMDA4IDIuMDA4LDIuMDA4aDEwLjU1NmwtMjEuMjM4LDIxLjI0Yy0wLjc4NCwwLjc4NC0wLjc4NCwyLjA1NSAwLDIuODM5IDAuMzkyLDAuMzkyIDAuOTA2LDAuNTg5IDEuNDIsMC41ODlzMS4wMjctMC4xOTcgMS40MTktMC41ODlsMjEuMjM4LTIxLjI0djEwLjU1NWMwLDEuMTA4IDAuODk3LDIuMDA4IDIuMDA4LDIuMDA4IDEuMTA5LDAgMi4wMDgtMC44OTkgMi4wMDgtMi4wMDh2LTE1LjQwMmMwLTAuMjYxLTAuMDUzLTAuNTIyLTAuMTU1LTAuNzY3eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)\n    }\n    .easyPrintHolder .page {\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ0NC44MzMgNDQ0LjgzMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ0LjgzMyA0NDQuODMzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNNTUuMjUsNDQ0LjgzM2gzMzQuMzMzYzkuMzUsMCwxNy03LjY1LDE3LTE3VjEzOS4xMTdjMC00LjgxNy0xLjk4My05LjM1LTUuMzgzLTEyLjQ2N0wyNjkuNzMzLDQuNTMzICAgIEMyNjYuNjE3LDEuNywyNjIuMzY3LDAsMjU4LjExNywwSDU1LjI1Yy05LjM1LDAtMTcsNy42NS0xNywxN3Y0MTAuODMzQzM4LjI1LDQzNy4xODMsNDUuOSw0NDQuODMzLDU1LjI1LDQ0NC44MzN6ICAgICBNMzcyLjU4MywxNDYuNDgzdjAuODVIMjU2LjQxN3YtMTA4LjhMMzcyLjU4MywxNDYuNDgzeiBNNzIuMjUsMzRoMTUwLjE2N3YxMzAuMzMzYzAsOS4zNSw3LjY1LDE3LDE3LDE3aDEzMy4xNjd2MjI5LjVINzIuMjVWMzR6ICAgICIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=);\n    }\n    .easyPrintHolder .A4Landscape { \n      transform: rotate(-90deg);\n    }\n\n    .leaflet-control-easyPrint-button{\n      display: inline-block;\n    }\n    .easyPrintHolder{\n      margin-top:-31px;\n      margin-bottom: -5px;\n      margin-left: 30px;\n      padding-left: 0px;\n      display: none;\n    }\n\n    .easyPrintSizeMode {\n      display: inline-block;\n    }\n    .easyPrintHolder .easyPrintSizeMode a {\n      border-radius: 0px;\n    }\n\n    .easyPrintHolder .easyPrintSizeMode:last-child a{\n      border-top-right-radius: 2px;\n      border-bottom-right-radius: 2px;\n      margin-left: -1px;\n    }\n\n    .easyPrintPortrait:hover, .easyPrintLandscape:hover{\n      background-color: #757570;\n      cursor: pointer;\n    }",document.body.appendChild(e)},_dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),o=new DataView(a),i=0;i<t.length;i++)o.setUint8(i,t.charCodeAt(i));return new Blob([a],{type:n})},_togglePageSizeButtons:function(e){var t=this.holder.style,n=this.link.style;"mouseover"===e.type?(t.display="block",n.borderTopRightRadius="0",n.borderBottomRightRadius="0"):(t.display="none",n.borderTopRightRadius="2px",n.borderBottomRightRadius="2px")},_toggleControls:function(e){var t=document.getElementsByClassName("leaflet-control-container")[0];if(e)return t.style.display="block";t.style.display="none"},_toggleClasses:function(e,t){e.forEach((function(e){var n=document.getElementsByClassName(e)[0];if(t)return n.style.display="block";n.style.display="none"}))},_a4PageSize:{height:715,width:1045}}),L.easyPrint=function(e){return new L.Control.EasyPrint(e)}},355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"index.html"},609:function(e,t,n){var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:this;function o(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){c(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(e,t,n){var l=a.URL||a.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin!==location.origin?i(c.href)?o(e,t,n):r(c,c.target="_blank"):r(c)):(c.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(c.href)}),4e4),setTimeout((function(){r(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(i(e))o(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){r(a)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,n);var r="application/octet-stream"===e.type,c=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&c||l)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},d.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,p=u.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});a.saveAs=c.saveAs=c,e.exports=c},820:(e,t,n)=>{"use strict";n.r(t)},926:(e,t,n)=>{"use strict";n.r(t)},359:(e,t,n)=>{"use strict";n.r(t)},803:(e,t,n)=>{"use strict";n.r(t)}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),a(355),a(820),a(672),a(359),a(457),a(803),a(647),a(926),a(94),a(516),a(619);var l,c,s,d,u,p,h=[[36,-95.7667],[40.6136,-89.0987]],f=[{value:"AllSite",label:"All Cancer Sites"},{value:"Prostate",label:"Prostate Cancer"},{value:"Lung",label:"Lung Cancer"},{value:"Breast",label:"Breast Cancer"},{value:"CRC",label:"Colonrectal Cancer"},{value:"Kidney",label:"Kidney and Renal Pelvis Cancer"},{value:"NHL",label:"Non-Hodgkin Lymphoma"},{value:"Urinary",label:"Urinary Bladder Cancer"},{value:"Mela",label:"Melanoma of the Skin"},{value:"Pancreas",label:"Pancreatic Cancer"},{value:"Leuks",label:"Leukemias"},{value:"Oral",label:"Oral Cavity and Pharynx Cancer"},{value:"Thyroid",label:"Thyroid Cancer"},{value:"Uterine",label:"Uterine Corpus Cancer"},{value:"Liver",label:"Liver Cancer"},{value:"Stomach",label:"Stomach Cancer"},{value:"Myeloma",label:"Myeloma"},{value:"Brain",label:"Brain Cancer"},{value:"Larynx",label:"Larynx Cancer"},{value:"Ovary",label:"Ovarian Cancer"},{value:"Esoph",label:"Esophagian Cancer"},{value:"Cervix",label:"Cervix Uteri"},{value:"HL",label:"Hodgkin Lymphoma"},{value:"Testis",label:"Testis"}],m=[{value:"Both",label:"All Sexes"},{value:"Male",label:"Male"},{value:"Female",label:"Female"}],g=[{value:"05yrs",label:"5-Year: 2015-2019"},{value:"10yrs",label:"10-Year: 2010-2019"}],y=[{value:"",label:"All Ethnicities"},{value:"W",label:"Non-Hispanic White"},{value:"B",label:"Non-Hispanic Black"},{value:"H",label:"Hispanic"}],v=[{value:"Zone",label:"Zone"},{value:"County",label:"County"}],b={Breast:"Female",Uterine:"Female",Ovary:"Female",Cervix:"Female",Prostate:"Male",Testis:"Male"},C={Both:"#446374",Female:"#8caec0",Male:"#c4deec"},x=[{title:"Population & Income",rows:[{field:"TotalPop",label:"Total Population",format:"integer",tooltip_id:void 0},{field:"PctRural",label:"% Living in Rural Area",format:"percent",tooltip_id:"PctRural"}]},{title:"Race & Ethnicity",rows:[{field:"PctMinority",label:"% Minority (other than non-Hispanic White)",format:"percent",tooltip_id:"PctMinority"},{field:"PctHispanic",label:"% Hispanic",format:"percent",tooltip_id:"PctHispanic"},{field:"PctBlackNH",label:"% Black (non-Hispanic)",format:"percent",tooltip_id:"PctBlackNH"}]},{title:"Income",rows:[{field:"Pct100Pov",label:"% Below Poverty",format:"percent",tooltip_id:"PctBelowPov"},{field:"PctNoHealthIns",label:"% Without Health Insurance",format:"percent",tooltip_id:"PctNoHealthIns"}]},{title:"Education",rows:[{field:"PctEducBchPlus",label:"% With Bachelors Degree or Higher",format:"percent",tooltip_id:"PctEducBchPlus"},{field:"PctEducLHS",label:"% Did Not Finish High School",format:"percent",tooltip_id:"PctEducLHS"}]},{title:"Disability Status",rows:[{field:"PctDisabled",label:"% With a Disability",format:"percent",tooltip_id:"PctDisabled"}]}],w={fillOpacity:.25,fillColor:"#cccccc",color:"black",opacity:.2,weight:1},M={fillOpacity:0,fillColor:"#cccccc",color:"black",opacity:0,weight:0},I={color:"black",opacity:1,weight:1,fill:!1},D={color:"#293885",opacity:1,weight:5,fill:!1},P={color:null,opacity:100,weight:0,fill:!1},S={Q1:{fillOpacity:.75,fillColor:"#ffffb3",stroke:!1},Q2:{fillOpacity:.75,fillColor:"#ffe066",stroke:!1},Q3:{fillOpacity:.75,fillColor:"#f99e26",stroke:!1},Q4:{fillOpacity:.75,fillColor:"#b36093",stroke:!1},Q5:{fillOpacity:.75,fillColor:"#873d6a",stroke:!1}},A={Q1:{fillOpacity:.75,fillColor:"#e6eaff",stroke:!1},Q2:{fillOpacity:.75,fillColor:"#abb4e0",stroke:!1},Q3:{fillOpacity:.75,fillColor:"#7683c2",stroke:!1},Q4:{fillOpacity:.75,fillColor:"#4b5aa3",stroke:!1},Q5:{fillOpacity:.75,fillColor:"#293885",stroke:!1}},k=[{field:"Cases",label:"Cases",format:"integer",colorramp:S},{field:"AAIR",label:"Incidence",format:"float",colorramp:S},{field:"TotalPop",label:"Total Population",format:"integer",colorramp:A},{field:"PctRural",label:"% Living in Rural Area",format:"percent",colorramp:A},{field:"PctMinority",label:"% Minority (other than non-Hispanic White)",format:"percent",colorramp:A},{field:"PctHispanic",label:"% Hispanic",format:"percent",colorramp:A},{field:"PctBlackNH",label:"% Black (non-Hispanic)",format:"percent",colorramp:A},{field:"Pct100Pov",label:"% Below Poverty",format:"percent",colorramp:A},{field:"PctNoHealthIns",label:"% Without Health Insurance",format:"percent",colorramp:A},{field:"PctEducBchPlus",label:"% With Bachelors Degree or Higher",format:"percent",colorramp:A},{field:"PctEducLHS",label:"% Did Not Finish High School",format:"percent",colorramp:A},{field:"PctDisabled",label:"% With a Disability",format:"percent",colorramp:A},{field:"Pct_forborn",label:"% Foreign Born",format:"percent",colorramp:A}],T={fill:!1,color:"black",weight:5},E={fill:!1,color:"black",weight:1},N=[{id:"basemap",label:"Base Map",checked:!0,layer:L.tileLayer("https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",{pane:"tilePane",zIndex:0,attribution:'Map tiles by <a target="_blank" href="http://www.mapbox.com">MapBox</a>.<br />Data &copy; <a target="_blank" href="http://openstreetmap.org/copyright" target="_blank">OpenStreetMap contributings</a>'})},{id:"labels",label:"Labels",checked:!0,layer:L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/light_only_labels/{z}/{x}/{y}{r}.png",{pane:"popupPane",zIndex:999,attribution:'Map tiles by <a target="_blank" href="http://www.mapbox.com">MapBox</a>.<br />Data &copy; <a target="_blank" href="http://openstreetmap.org/copyright" target="_blank">OpenStreetMap contributings</a>'})},{id:"counties",label:"Counties",layer:void 0},{id:"zones",label:"Zones",checked:!1,layer:void 0}],j={},z={};function _(){console.log("performseach called"),B(!1),e.addressmarker.setLatLng([0,0]).removeFrom(e);var t=$('div.data-filters input[type="text"], div.data-filters select').filter('[name="address"]'),n=t.data("hasbeenchanged");t.data("hasbeenchanged",!1);var a=function(){console.log("compileType");var e=$('div.data-filters input[type="text"], div.data-filters select');console.log("compileType $searchwidgets: ",e);var t=e.filter('[name="type"]').val();return console.log("compileType type: ",t),t}();console.log("singleParams: ",a);var o,i=R();if(console.log("params: ",i),i.ctaid=z.ctaid,i.ctaname=z.stateName,i.address){var r=i.address.match(/^\s*((A|B)\d\d\d\d)\s*$/),l=i.address.match(/\(((A|B)\d\d\d\d)\)/);if(console.log("isctaid",r),console.log("conainsctaid",l),r||l){var c=(o=r?r[1]:l[1],e.ctapolygonfills.getLayers().filter((function(e){return e.feature.properties.ZoneIDOrig==o}))[0]);c?(i.ctaid=c.feature.properties.GeoID,i.ctaname=c.feature.properties.GeoName.replace(/\_\d+$/,""),i.bbox=n?c.getBounds():null,console.log("params if cta: ",i),O(i)):B("Could not find that CTA")}else!function(e,t){var n=e.match(/\s*(\-?\d+\.\d+)\s*,\s*(\-?\d+\.\d+)\s*/);if(n){var a=[parseFloat(n[1]),parseFloat(n[2])];return t(a)}if(j[e])return t(j[e]);var o="https://dev.virtualearth.net/REST/v1/Locations?query=".concat(encodeURIComponent(e),"&key=").concat("AqmUJHuT9QJE5A0m1Kf48g2vxBND3cJ0_jJI3jJQIv9oE11VIG9WZbhq2owRSUZK","&s=1");$.ajax({url:o,dataType:"jsonp",jsonp:"jsonp",success:function(n){if(n.resourceSets&&n.resourceSets[0].resources.length){var a=n.resourceSets[0].resources[0];j[e]=a.point.coordinates,t(a.point.coordinates)}else t(null)},error:function(e){return alert("There was a problem finding that address. Please try again.")}})}(i.address,(function(t){if(console.log("params if geocodeAddress: ",i),!t)return B("Could not find that address");console.log("latlng: ",t);var a=[t[0],t[1]],o=function(t){var n=t.hasOwnProperty("length")?L.latLng(t[0],t[1]):t;return console.log("latlng in find: ",n),leafletPip.pointInLayer(n,e.ctapolygonfills)[0]}(a);console.log("cta: ",o),o?(i.ctaid=o.feature.properties.ZoneIDOrig,i.ctaname=o.feature.properties.ZoneName.replace(/\_\d+$/,""),i.latlng=a,i.bbox=n?o.getBounds():null,i.test="test",O(i)):(e.addressmarker.setLatLng(a).addTo(e),B("Data not available for that location"),O(i))}))}else O(i)}function O(t){console.log("performSearchReally searchparams: ",t);var n=$(".typeName");if("Zone"==t.type)for(var a=0;a<n.length;a++)n[a].innerHTML="Zone";if("County"==t.type){for(var r=0;r<n.length;r++)n[r].innerHTML="County";var l=p.filter((function(e){return e.ZoneIDOrig==t.ctaid})).map((function(e){return e.CountyCode}));console.log("countiesCode: ",l),t.countyCode=l[0]}!function(e){var t=$("div.data-filters-summary");if(t.empty(),"Zone"==e.type){var n=e.ctaname==z.ctaid?e.ctaname:"".concat(e.ctaname," (").concat(e.ctaid,")"),a=$('<span data-filter="address"></span>').text(n).appendTo(t);e.ctaname!=z.ctaid&&a.prop("tabindex","0").addClass("data-filter-clear").append('<div class="summary-close"><i class="fa fa-times noprint" tabindex="0" aria-label="Click to clear this filter"></i></div>')}else $('<span data-filter="address" style="display: none;"></span>').appendTo(t);var o=U("time",e.time);Z("time")>1&&$('<span data-filter="time"></span>').text(o).appendTo(t);var i=U("site",e.site),r=$('<span data-filter="site"></span>').text(i).appendTo(t);"AllSite"!=e.site&&r.prop("tabindex","0").addClass("data-filter-clear").append('<div class="summary-close"><i class="fa fa-times noprint" tabindex="0" aria-label="Click to clear this filter"></i></div>');var l=U("sex",e.sex),c=$('<span data-filter="sex"></span>').text(l).appendTo(t);"Both"!=e.sex&&c.prop("tabindex","0").addClass("data-filter-clear").append('<div class="summary-close"><i class="fa fa-times noprint" tabindex="0" aria-label="Click to clear this filter"></i></div>');var s=U("race",e.race),d=$('<span data-filter="race"></span>').text(s).appendTo(t);""!=e.race&&d.prop("tabindex","0").addClass("data-filter-clear").append('<div class="summary-close"><i class="fa fa-times noprint" tabindex="0" aria-label="Click to clear this filter"></i></div>')}(t),function(t){if(console.log("performSearchMap searchparams: ",t),e.ctapolygonbounds.eachLayer((function(e){e.setStyle(I)})),e.countypolygonbounds.eachLayer((function(e){e.setStyle(P)})),e.ctapolygonfills.eachLayer((function(e){e.setStyle(Object.assign({},w))})),e.countypolygonfills.eachLayer((function(e){e.setStyle(Object.assign({},M))})),"Zone"==t.type){console.log("performSearchMap ZONES! "),t.bbox&&e.fitBounds(t.bbox),e.ctapolygonbounds.eachLayer((function(e){console.log("layer.feature.properties",e.feature.properties),e.feature.properties.ZoneIDOrig==t.ctaid?(e.setStyle(D),e.bringToFront()):e.setStyle(I)})),t.latlng?e.addressmarker.setLatLng(t.latlng).addTo(e):e.addressmarker.setLatLng([0,0]).removeFrom(e);var n=e.choroplethcontrol.getSelection(),a=k.filter((function(e){return e.field==n}))[0],r=[a.colorramp.Q1.fillColor,a.colorramp.Q2.fillColor,a.colorramp.Q3.fillColor,a.colorramp.Q4.fillColor,a.colorramp.Q5.fillColor],l={};-1!=["Cases","AAIR"].indexOf(n)?s.filter((function(e){return"US"!=e.GeoID})).filter((function(e){return e.GeoID!=z.ctaid})).filter((function(e){return e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex})).forEach((function(e){var a;switch(n){case"Cases":a=t.race?e["".concat(t.race,"_Cases")]:e.Cases;break;case"AAIR":a=t.race?e["".concat(t.race,"_AAIR")]:e.AAIR}l[e.GeoID]=a})):d.filter((function(e){return"US"!=e.GeoID})).filter((function(e){return e.GeoID!=z.ctaid})).forEach((function(e){var t=e[n];l[e.GeoID]=t}));var c=Object.values(l).filter((function(e){return e})),u=Math.min.apply(Math,o(c)),p=Math.max.apply(Math,o(c)),h=k.filter((function(e){return e.field==n}))[0].format,f=u==1/0?"No Data":W(u,h),m=p==-1/0?"No Data":W(p,h);e.choroplethcontrol.setMinMax(f,m),e.choroplethcontrol.setGradientColors(r);var g=function(e,t){var n=function(e){return e.sort((function(e,t){return e-t}))}(e),a=(n.length-1)*t,o=Math.floor(a),i=a-o;return void 0!==n[o+1]?n[o]+i*(n[o+1]-n[o]):n[o]},y=g(c,.2),v=g(c,.4),b=g(c,.6),C=g(c,.8);e.ctapolygonfills.eachLayer((function(e){var t,n=e.feature.properties.ZoneIDOrig,o=l[n];if(null==o||null==o||""==o)t=Object.assign({},w);else{var i="Q5";o<=y?i="Q1":o<=v?i="Q2":o<=b?i="Q3":o<=C&&(i="Q4"),t=Object.assign({},a.colorramp[i])}e.setStyle(t)}))}else if("County"==t.type){console.log("performSearchMap COUNTIES! "),t.bbox&&e.fitBounds(t.bbox),e.ctapolygonbounds.eachLayer((function(e){e.setStyle({color:null})})),e.countypolygonbounds.eachLayer((function(e){console.log("layer.feature.properties",e.feature.properties),console.log("searchparams",t);var n=e.feature.properties.GEOID,a=n==t.countyCode+"";console.log("ctaid 234: ",n),console.log("searchparams.countyCode 234: ",t.countyCode),console.log("istheone 234: ",a),a?(e.setStyle(D),e.bringToFront()):e.setStyle(I)})),t.latlng?e.addressmarker.setLatLng(t.latlng).addTo(e):e.addressmarker.setLatLng([0,0]).removeFrom(e);var L=e.choroplethcontrol.getSelection(),x=k.filter((function(e){return e.field==L}))[0],S=[x.colorramp.Q1.fillColor,x.colorramp.Q2.fillColor,x.colorramp.Q3.fillColor,x.colorramp.Q4.fillColor,x.colorramp.Q5.fillColor],A={};-1!=["Cases","AAIR"].indexOf(L)?s.filter((function(e){return"US"!=e.GeoID})).filter((function(e){return e.GeoID!=z.ctaid})).filter((function(e){return e.Years==t.time&&e.Cancer==t.site&&e.Sex==t.sex})).forEach((function(e){var n;switch(L){case"Cases":n=t.race?e["".concat(t.race,"_Cases")]:e.Cases;break;case"AAIR":n=t.race?e["".concat(t.race,"_AAIR")]:e.AAIR}A[e.GeoID]=n})):d.filter((function(e){return"US"!=e.GeoID})).filter((function(e){return e.GeoID!=z.ctaid})).forEach((function(e){var t=e[L];A[e.GeoID]=t}));var T=Object.fromEntries(Object.entries(A).filter((function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(s)throw o}}return l}}(t,n)||i(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0];return a[1],!o.includes("A")}))),E=Object.values(T).filter((function(e){return e})),N=Math.min.apply(Math,o(E)),j=Math.max.apply(Math,o(E)),_=k.filter((function(e){return e.field==L}))[0].format,O=N==1/0?"No Data":W(N,_),U=j==-1/0?"No Data":W(j,_);e.choroplethcontrol.setMinMax(O,U),e.choroplethcontrol.setGradientColors(S);var Z=function(e,t){var n=function(e){return e.sort((function(e,t){return e-t}))}(e),a=(n.length-1)*t,o=Math.floor(a),i=a-o;return void 0!==n[o+1]?n[o]+i*(n[o+1]-n[o]):n[o]},R=Z(E,.2),B=Z(E,.4),H=Z(E,.6),$=Z(E,.8);e.countypolygonfills.eachLayer((function(e){var t,n=e.feature.properties.GEOID,a=A[n];if(null==a||null==a||""==a)t=Object.assign({},w);else{var o="Q5";a<=R?o="Q1":a<=B?o="Q2":a<=H?o="Q3":a<=$&&(o="Q4"),t=Object.assign({},x.colorramp[o])}e.setStyle(t)}))}}(t),function(e){console.log("searchparams: ",e),console.log("DATA_DEMOGS: ",d),console.log("searchparams.ctaid",e.ctaid),console.log("searchparams.time",e.time);var t=d.filter((function(t){return t.GeoID==e.ctaid&&t.Years==e.time}))[0];if(console.log("demogdata_cta: ",t),"County"==e.type){var n=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.CountyCode}));console.log("countiesCode: ",n),e.countyCode=n[0];var a=d.filter((function(t){return t.GeoID==n&&t.Years==e.time}))[0];console.log("demogdata_county: ",a),t=a}var o=d.filter((function(t){return t.GeoID==z.ctaid&&t.Years==e.time}))[0],i=d.filter((function(t){return"US"==t.GeoID&&t.Years==e.time}))[0];console.log("demogdata_state: ",o),console.log("demogdata_nation: ",i);var r=$("#demographic-tables"),l=r.find('[data-region="cta"]'),c=r.find('[data-region="nation"]');e.ctaid==z.ctaid?l.hide():l.show(),c.show();var s=e.ctaname;"County"==e.type&&(s=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return"".concat(e.County," County")}))[0]);var u=e.ctaid==z.ctaid?"":"(".concat(t.GeoID,")");r.find('span[data-statistics="ctaname"]').text(s),r.find('span[data-statistics="ctaname"]').closest("span.subtitle").prop("aria-label",s+" "+u),x.forEach((function(e){e.rows.forEach((function(e){var n=r.find('span[data-region="cta"][data-statistic="'.concat(e.field,'"]')),a=W(t[e.field],e.format);n.text(a);var l=r.find('span[data-region="state"][data-statistic="'.concat(e.field,'"]')),c=W(o[e.field],e.format);l.text(c);var s=r.find('span[data-region="nation"][data-statistic="'.concat(e.field,'"]')),d=W(i[e.field],e.format);s.text(d)}))}))}(t),function(e){if(console.log("performSearchPlaces searchparams: ",e),e.ctaid!=z.ctaid){console.log("DATA_CTACOUNTY: ",p);var t=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return"".concat(e.County," County")}));console.log("counties: ",t);var n=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return"".concat(e.CountyCode)}));console.log("countiesCodes: ",n),console.log("DATA_CTACITY: ",u);var a=u.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.City}));console.log("cities: ",a),t.sort(),a.sort();var o=$("div.data-filters-summary").find('span[data-filter="address"]'),i=$('<span data-statistic="locations"></span>').insertAfter(o);if(t.length){var r=t.join(", "),l=$("<div></div>").html("<b>Counties: </b>").appendTo(i);$("<span></span>").text(r).appendTo(l)}if(a.length&&"Zone"==e.type){var c=a.join(", "),s=$("<div></div>").html("<b>Places: </b>").appendTo(i);$("<span></span>").text(c).appendTo(s)}}}(t),function(e){var t=s.filter((function(t){return t.GeoID==e.ctaid&&t.Years==e.time&&t.Cancer==e.site&&t.Sex==e.sex}))[0];if("County"==e.type){var n=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.CountyCode}));console.log("countiesCode: ",n);var a=s.filter((function(t){return t.GeoID==n&&t.Years==e.time&&t.Cancer==e.site&&t.Sex==e.sex}))[0];console.log("cancerdata_county: ",a),t=a}var o,i,r,l,c,d,u=s.filter((function(t){return t.GeoID==z.ctaid&&t.Years==e.time&&t.Cancer==e.site&&t.Sex==e.sex}))[0],h=s.filter((function(t){return"US"==t.GeoID&&t.Years==e.time&&t.Cancer==e.site&&t.Sex==e.sex}))[0],f="no data",m="no data",g="";if(t){var y=e.race?t["".concat(e.race,"_Cases")]:t.Cases,v=e.race?t["".concat(e.race,"_AAIR")]:t.AAIR,b=e.race?t["".concat(e.race,"_LCI")]:t.LCI,C=e.race?t["".concat(e.race,"_UCI")]:t.UCI,L=!isNaN(parseInt(y)),x=!isNaN(parseFloat(y));if(L&&(f=y.toLocaleString()),x&&(m=v.toFixed(1)),L&&x){var w=(e.race?t["".concat(e.race,"_LCI")]:t.LCI).toFixed(1),M=(e.race?t["".concat(e.race,"_UCI")]:t.UCI).toFixed(1);g="(".concat(w,", ").concat(M,")")}r=v,o=b,i=C}var I,D,P,S="no data",A="no data",k="";if(u){var T=e.race?u["".concat(e.race,"_Cases")]:u.Cases,E=e.race?u["".concat(e.race,"_AAIR")]:u.AAIR,N=e.race?u["".concat(e.race,"_LCI")]:u.LCI,j=e.race?u["".concat(e.race,"_UCI")]:u.UCI,_=!isNaN(parseInt(T)),O=!isNaN(parseFloat(T));if(_&&(S=T.toLocaleString()),O&&(A=E.toFixed(1)),_&&O){var U=(e.race?u["".concat(e.race,"_LCI")]:u.LCI).toFixed(1),Z=(e.race?u["".concat(e.race,"_UCI")]:u.UCI).toFixed(1);k="(".concat(U,", ").concat(Z,")")}d=E,l=N,c=j}var R="no data",B="no data",H="";if(h){var W=e.race?h["".concat(e.race,"_Cases")]:h.Cases,F=e.race?h["".concat(e.race,"_AAIR")]:h.AAIR,G=e.race?h["".concat(e.race,"_LCI")]:h.LCI,Y=e.race?h["".concat(e.race,"_UCI")]:h.UCI,V=!isNaN(parseInt(W)),K=!isNaN(parseFloat(W));if(V&&(R=W.toLocaleString()),K&&(B=F.toFixed(1)),V&&K){var J=(e.race?h["".concat(e.race,"_LCI")]:h.LCI).toFixed(1),X=(e.race?h["".concat(e.race,"_UCI")]:h.UCI).toFixed(1);H="(".concat(J,", ").concat(X,")")}P=F,I=G,D=Y}e.ctaid==z.ctaid?$('#incidence-readouts [data-region="cta"]').hide():$('#incidence-readouts [data-region="cta"]').show(),$('#incidence-readouts [data-region="nation"]').show(),$('#incidence-readouts span[data-region="cta"][data-statistic="cases"]').text(f),$('#incidence-readouts span[data-region="cta"][data-statistic="aair"]').text(m),$('#incidence-readouts span[data-region="cta"][data-statistic="lciuci"]').text(g),$('#incidence-readouts span[data-region="state"][data-statistic="cases"]').text(S),$('#incidence-readouts span[data-region="state"][data-statistic="aair"]').text(A),$('#incidence-readouts span[data-region="state"][data-statistic="lciuci"]').text(k),$('#incidence-readouts span[data-region="nation"][data-statistic="cases"]').text(R),$('#incidence-readouts span[data-region="nation"][data-statistic="aair"]').text(B),$('#incidence-readouts span[data-region="nation"][data-statistic="lciuci"]').text(H);var q=$('#incidence-readouts span.ucilcicandlechart[data-region="cta"]'),ee=$('#incidence-readouts span.ucilcicandlechart[data-region="state"]'),te=$('#incidence-readouts span.ucilcicandlechart[data-region="nation"]'),ne=I&&D?Math.min(o,l,I):Math.min(o,l),ae=I&&D?Math.max(i,c,D):Math.max(i,c);Q(q,"Selected Area",r,o,i,ne-=.2*(ae-ne),ae+=.2*(ae-ne)),Q(ee,z.ctaid,d,l,c,ne,ae),Q(te,"US",P,I,D,ne,ae)}(t),function(e){var t=$("#incidence-barchart-section");if(t.find('span[data-statistic="cancersite"]').text(U("site",e.site)),t.find('span[data-statistics="ctaname"]').text(e.ctaname),"County"==e.type){p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.CountyCode}));var n=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.County}));t.find('span[data-statistics="ctaname"]').text(n+" County")}var a=s.filter((function(t){return t.GeoID==e.ctaid&&t.Years==e.time&&t.Cancer==e.site}));if("County"==e.type){var o=p.filter((function(t){return t.ZoneIDOrig==e.ctaid})).map((function(e){return e.CountyCode}));console.log("countiesCode: ",o);var i=s.filter((function(t){return t.GeoID==o&&t.Years==e.time&&t.Cancer==e.site}));a=i}var r={};m.forEach((function(e){r[e.value]=a.filter((function(t){return t.Sex==e.value}))[0]}));var l=y.map((function(e){return U("race",e.value)})),c=m.map((function(e){var t=r[e.value];return{name:e.label,color:C[e.value],data:y.map((function(e){if(!t)return 0;var n=e.value?"".concat(e.value,"_AAIR"):"AAIR",a=t[n];return a||(a=0),a}))}})),d=$("#incidence-barchart"),u=50+55*y.length;d.css({height:"".concat(u,"px")});Highcharts.chart("incidence-barchart",{chart:{type:"bar",events:{load:function(){$("#incidence-barchart g.highcharts-data-label tspan").each((function(){var e=$(this);"0"==e.text()&&e.text("Data cannot be calculated").get(0).classList.add("lighten")}))}}},plotOptions:{series:{groupPadding:.1,maxPointWidth:12,animation:{duration:0},accessibility:{pointDescriptionFormatter:function(e){return"".concat(e.category,", ").concat(e.series.name,", AAIR ").concat(e.y)}}},bar:{dataLabels:{enabled:!0}}},legend:{layout:"horizontal",floating:!0,verticalAlign:"top",y:-16,symbolRadius:0},title:null,xAxis:{categories:l,title:{text:null}},yAxis:{min:0,title:{text:null}},tooltip:!1,credits:{enabled:!0},series:c})}(t),function(e){var t=$('#downloadoptions a[data-export="zonedata"]');if(e.ctaid==z.ctaid)t.hide().prop("href","javascript:void(0);");else{var n="zone_".concat(e.ctaid,".zip"),a="static/downloads/".concat(n);t.show().prop("href",a).attr("data-ctaid",e.ctaid)}}(t)}function U(e,t){return $('div.data-filters select[name="'.concat(e,'"]')).find('option[value="'.concat(t,'"]')).text()}function Z(e){return $('div.data-filters select[name="'.concat(e,'"]')).find("option").length}function R(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=$('div.data-filters input[type="text"], div.data-filters select'),a={type:n.filter('[name="type"]').val(),address:n.filter('[name="address"]').val(),sex:n.filter('[name="sex"]').val(),site:n.filter('[name="site"]').val(),race:n.filter('[name="race"]').val(),time:n.filter('[name="time"]').val()};return t&&(a.overlays=e.layerpicker.getLayerStates().filter((function(e){return e.checked})).map((function(e){return e.id})).join(","),a.overlays||(a.overlays="none"),a.choropleth=e.choroplethcontrol.getSelection()),a}function B(e){var t=$('div.data-filters label[for="data-filters-address"] span');e?t.text(e).removeClass("d-none"):t.text("").addClass("d-none")}function H(e,t,n){"function"==typeof gtag&&gtag("event",e,{event_category:t,event_label:n})}function W(e,t){if(null==e||"NoData"===e)return"";var n;switch(t){case"text":n=e;break;case"integer":n=parseInt(Math.round(e)),n=isNaN(n)?"-":n.toLocaleString();break;case"float":n=parseFloat(e),n=isNaN(n)?"-":n.toFixed(1);break;case"percent":n=parseFloat(e),n=isNaN(n)?"-":n<1?"< 1":n.toFixed(1),n="".concat(n," %");break;case"money":n=parseInt(Math.round(e)),n=isNaN(n)?"-":"$"+n.toLocaleString();break;case"phone":n=e?'<a target="_blank" href="tel:'.concat(e,'">').concat(e,"</a>"):"-";break;case"email":n=e?'<a target="_blank" href="mailto:'.concat(e,'">').concat(e,"</a>"):"-";break;case"url":n=e?"http"==e.toLowerCase().substr(0,4)?e:"http://".concat(e):null,n=e?'<a target="_blank" href="'.concat(n,'">Open Website <i class="fa fa-external-link-square"></i></a>'):"-";break;default:throw"formatFieldValue() got unexpected format type ".concat(t)}return n}function Q(e,t,n,a,o,i,r){e.empty(),$('<span class="fullrangeline"></span>').appendTo(e);var l=$('<span class="ucilcirangeline"></span>').appendTo(e),c=r-i,s=100*(n-i)/c;$('<span class="aairpoint"></span>').appendTo(e).css({left:"calc(".concat(s,"% - ").concat(5,"px)")});var d=100*(o-a)/c,u=100*(a-i)/c;l.css({width:"".concat(d,"%"),left:"".concat(u,"%")});var p="".concat(t," LCI ").concat(a,", UCI ").concat(o,", AAIR ").concat(n);e.attr("aria-label",p).prop("title",p)}z.stateName="Missouri",z.numOfCancerSites="25",z.numOfZones="100",z.minZonePop="50,610",z.maxZonePop="99,478",z.minTractsPerZone="7",z.maxTractsPerZone="29",z.raceList=["non-Hispanic White","non-Hispanic Black","non-Hispanic Asian/Pacific Islander","non-Hispanic American Indian/Alaska Native","Hispanic"],z.reportingMinCases="15",z.registry="Missouri Cancer Registry",z.registryLink="https://cancerregistry.missouri.edu/",z.fundingSource="Missouri Cancer Registry",z.citationInfo="This is where you put your citation info",z.nationalCancerDataSource="The national level data was obtained from National Program of Cancer Registries and Surveillance, Epidemiology and End Results Program SEER*Stat Database: NPCR and SEER Incidence - U.S. Cancer Statistics Public Use Research Database, 2023 Submission (2001-2021). United States Department of Health and Human Services, Centers for Disease Control and Prevention and National Cancer Institute. Released June 2024. Accessed at www.cdc.gov/cancer/uscs/public-use.",z.aboutBlurb="The Missouri Cancer Registry (MCR) operates as a statewide cancer surveillance system dedicated to preventing cancer and reducing its burden among Missouri residents. MCR contributes to cancer research by collecting demographic, tumor, and treatment data on over 37,000 new invasive cancer cases annually, with a database spanning nearly 1.4 million cases diagnosed from 1996 to 2020, plus historical data from before 1996.\nMCR provides valuable information and educational resources to healthcare professionals, researchers, and the public. The data is also shared with national and international organizations, including the CDC and the International Association of Cancer Registries, to enhance global cancer research efforts. Through linkages with databases like Missouri Vital Records and the National Death Index, MCR ensures comprehensive reporting, supporting its mission to improve health outcomes for Missourians.",z.ctaid=29,$(document).ready((function(){var t=[new Promise((function(e){$.get("static/data/cta.json",(function(t){e(t)}),"json")})),new Promise((function(e){$.get("static/data/countybounds.json",(function(t){e(t)}),"json")})),new Promise((function(e){Papa.parse("static/data/allDemographics.csv",{download:!0,header:!0,skipEmptyLines:"greedy",dynamicTyping:!0,complete:function(t){e(t.data)}})})),new Promise((function(e){Papa.parse("static/data/allCancerRatesData.csv",{download:!0,header:!0,skipEmptyLines:"greedy",dynamicTyping:!0,complete:function(t){e(t.data)}})})),new Promise((function(e){Papa.parse("static/data/counties_by_cta.csv",{download:!0,header:!0,skipEmptyLines:"greedy",dynamicTyping:!0,complete:function(t){e(t.data)}})})),new Promise((function(e){Papa.parse("static/data/cities_by_cta.csv",{download:!0,header:!0,skipEmptyLines:"greedy",dynamicTyping:!0,complete:function(t){e(t.data)}})}))];Promise.all(t).then((function(t){var n,a,o,i,r,C,D,S,A,j,O,B,W,Q,F,G;l=t[0],c=t[1],d=t[2],s=t[3],p=t[4],u=t[5],n=z.stateName,a=document.querySelectorAll(".stateName"),n&&a.forEach((function(e){e.innerText=n})),function(e){var t=document.querySelectorAll(".numOfCancerSites");e&&t.forEach((function(t){t.innerText=e}))}(z.numOfCancerSites),function(e){var t=document.querySelectorAll(".numZones");e&&t.forEach((function(t){t.innerText=e}))}(z.numOfZones),function(e){var t=document.querySelectorAll(".minZonePop");e&&t.forEach((function(t){t.innerText=e}))}(z.minZonePop),function(e){var t=document.querySelectorAll(".maxZonePop");e&&t.forEach((function(t){t.innerText=e}))}(z.maxZonePop),function(e){var t=document.querySelectorAll(".minTractsPerZone");e&&t.forEach((function(t){t.innerText=e}))}(z.minTractsPerZone),function(e){var t=document.querySelectorAll(".maxTractsPerZone");e&&t.forEach((function(t){t.innerText=e}))}(z.maxTractsPerZone),function(e){var t=document.querySelectorAll(".confirmRaceList");e&&t.forEach((function(t){t.innerText=e.slice(0,-1).join(", ")+", and "+e[e.length-1]}))}(z.raceList),function(e){var t=document.querySelectorAll(".reportingMinCases");e&&t.forEach((function(t){t.innerText=e}))}(z.reportingMinCases),function(e,t){var n=document.querySelectorAll(".stateRegistry");e&&t&&n.forEach((function(n){n.innerText=e,n.parentElement.href=t}))}(z.registry,z.registryLink),function(e){var t=document.querySelectorAll(".fundingSource");e&&t.forEach((function(t){t.innerText=e}))}(z.fundingSource),function(e){var t=document.querySelectorAll(".citationInfo");e&&t.forEach((function(t){t.innerText=e}))}(z.citationInfo),function(e){var t=document.querySelectorAll(".nationalCancerDataSource");e&&t.forEach((function(t){t.innerText=e}))}(z.nationalCancerDataSource),function(e){var t=document.querySelectorAll(".aboutBlurb");e&&t.forEach((function(t){t.innerText=e}))}(z.aboutBlurb),function(){var e=[];if(d[0].GeoID||e.push("Field not found: Zone"),x.forEach((function(t){t.rows.forEach((function(t){void 0===d[0][t.field]&&e.push("DEMOGRAPHIC_TABLES nonexistent demographic field ".concat(t.field))}))})),k.forEach((function(t){"AAIR"!=t.field&&"Cases"!=t.field&&void 0===d[0][t.field]&&e.push("CHOROPLETH_OPTIONS nonexistent demographic field ".concat(t.field))})),d[0].GeoID){var t=d.filter((function(e){return e.GeoID==z.ctaid}));t.length!=g.length&&e.push("Found ".concat(t.length," demographic rows for Statewide"));var n=d.filter((function(e){return"US"==e.GeoID}));n.length!=g.length&&e.push("Found ".concat(n.length," demographic rows for Nationwide"))}if(e.length){e.forEach((function(e){console.error("initValidateDemographicDataset() ".concat(e))}));var a="initValidateDemographicDataset() found errors in the incidence dataset:\n".concat(e.join("\n"));throw alert(a),"initValidateDemographicDataset() reported errors. Quitting."}}(),function(){var e=[];if(console.log("DATA_CANCER[0]",s[0]),s[0].Sex||e.push("Field not found: sex"),s[0].Cancer||e.push("Field not found: cancer"),s[0].Years||e.push("Field not found: years"),s[0].PopTot||e.push("Field not found: PopTot"),s[0].Cases||e.push("Field not found: Cases"),s[0].AAIR||e.push("Field not found: AAIR"),s[0].LCI||e.push("Field not found: LCI"),s[0].UCI||e.push("Field not found: UCI"),y.forEach((function(t){t.value&&(s[0]["".concat(t.value,"_PopTot")]||e.push("Field not found: ".concat(t.value,"_PopTot")),s[0]["".concat(t.value,"_Cases")]||e.push("Field not found: ".concat(t.value,"_Cases")),s[0]["".concat(t.value,"_AAIR")]||e.push("Field not found: ".concat(t.value,"_AAIR")),s[0]["".concat(t.value,"_LCI")]||e.push("Field not found: ".concat(t.value,"_LCI")),s[0]["".concat(t.value,"_UCI")]||e.push("Field not found: ".concat(t.value,"_UCI")))})),s[0].Cancer&&f.forEach((function(t){s.filter((function(e){return e.Cancer==t.value})).length||e.push("Site filtering option ".concat(t.value," not found in the data."))})),s[0].Sex&&m.forEach((function(t){s.filter((function(e){return e.Sex==t.value})).length||e.push("Sex filtering option ".concat(t.value," not found in the data."))})),s[0].Years&&g.forEach((function(t){s.filter((function(e){return e.Years==t.value})).length||e.push("Time filtering option ".concat(t.value," not found in the data."))})),Object.keys(b).forEach((function(t){f.filter((function(e){return e.value==t})).length||e.push("Site ".concat(t," in CANCER_SEXES is not an option in SEARCHOPTIONS_CANCERSITE"))})),Object.values(b).forEach((function(t){m.filter((function(e){return e.value==t})).length||e.push("Sex ".concat(t," in CANCER_SEXES is not an option in SEARCHOPTIONS_SEX"))})),s[0].GeoID&&s[0].Cancer&&s[0].Sex&&s[0].Years&&m.forEach((function(t){g.forEach((function(n){f.forEach((function(a){if(!b[a.value]||b[a.value]==t.value){var o=s.filter((function(e){return e.Years==n.value&&e.Sex==t.value&&e.Cancer==a.value})),i=o.filter((function(e){return e.GeoID==z.ctaid}));o.length?i.length||e.push("No Statewide data rows for ".concat(n.value,"/").concat(a.value,"/").concat(t.value)):e.push("No data rows would match ".concat(n.value,"/").concat(a.value,"/").concat(t.value))}}))}))})),e.length){e.forEach((function(e){console.error("initValidateIncidenceDataset() ".concat(e))}));var t="initValidateIncidenceDataset() found errors in the incidence dataset:\n".concat(e.join("\n"));throw alert(t),"initValidateIncidenceDataset() reported errors. Quitting."}}(),N.filter((function(e){return"counties"==e.id}))[0].layer=L.topoJson(c,{pane:"tooltipPane",zIndex:500,style:T}),N.filter((function(e){return"zones"==e.id}))[0].layer=L.topoJson(l,{pane:"tooltipPane",zIndex:500,style:E}),o=$("#demographic-tables"),x.forEach((function(e){var t=$('\n            <table class="table-striped table-sm">\n                <thead>\n                    <tr>\n                        <th class="nowrap left"><span class="subtitle" tabindex="0">'.concat(e.title,'</span></th>\n                        <th class="nowrap right typeName" data-region="cta" aria-hidden="true">Zone</th>\n                        <th class="nowrap right" data-region="state" aria-hidden="true">Statewide</th>\n                        <th class="nowrap right" data-region="nation" aria-hidden="true">Nationwide</th>\n                    </tr>\n                </thead>\n                <tbody>\n                </tbody>\n            </table>\n        ')),n=t.children("tbody");e.rows.forEach((function(e){var t=e.tooltip_id?'<i class="fa fa-info-circle" aria-hidden="true" data-tooltip="'.concat(e.tooltip_id,'"></i>'):"";$('\n                <tr>\n                    <th scope="row">'.concat(e.label," ").concat(t,'</th>\n                    <td class="right nowrap" data-region="cta"><span data-region="cta" data-statistic="').concat(e.field,'"></span></td>\n                    <td class="right nowrap" data-region="state"><span data-region="state" data-statistic="').concat(e.field,'"></span></td>\n                    <td class="right nowrap" data-region="nation"><span data-region="nation" data-statistic="').concat(e.field,'"></span></td>\n                </tr>\n            ')).appendTo(n)})),t.appendTo(o)})),function(){e=L.map("map",{minZoom:6,maxZoom:15}).fitBounds(h),L.control.scale().addTo(e),L.Control.boxzoom({position:"topleft"}).addTo(e);var t=L.icon({iconUrl:"static/map_marker.svg",iconSize:[36.25,51.25],iconAnchor:[17.75,41.25]});function n(e){e.tile.src="static/transparent_256x256.png"}e.addressmarker=L.marker([0,0],{pane:"popupPane",icon:t}),e.layerpicker=new L.Control.LayerPicker({expanded:!0,layers:N,onLayerChange:function(e,t){H("map",t?"overlay-on":"overlay-off",e)}}).addTo(e),N.forEach((function(e){e.layer.on("tileerror",n)})),e.printplugin=L.easyPrint({sizeModes:["Current"],exportOnly:!0,hidden:!0,hideControlContainer:!1,hideClasses:["leaflet-layerpicker-control","leaflet-control-attribution","leaflet-control-zoom","leaflet-control-boxzoom"]}).addTo(e),e.ctapolygonfills=L.topoJson(l,{pane:"shadowPane",style:w}).addTo(e),e.ctapolygonbounds=L.topoJson(l,{pane:"tooltipPane",style:I}).addTo(e),e.countypolygonfills=L.topoJson(c,{pane:"shadowPane",style:M}).addTo(e),e.countypolygonbounds=L.topoJson(c,{pane:"tooltipPane",style:P}).addTo(e),e.choroplethcontrol=new L.Control.ChoroplethLegend({expanded:!0,selectoptions:k,onChoroplethChange:function(e){_(),H("map","choropleth",e)}}).addTo(e),e.on("singleclick",(function(e){var t=$('div.data-filters input[type="text"], div.data-filters select').filter('[name="address"]'),n="".concat(e.latlng.lat.toFixed(5),",").concat(e.latlng.lng.toFixed(5));t.val(n).change()}))}(),function(){var e=$('div.data-filters select[name="site"]'),t=$('div.data-filters select[name="sex"]'),n=$('div.data-filters select[name="race"]'),a=$('div.data-filters select[name="time"]'),o=$('div.data-filters select[name="type"]');f.forEach((function(t){$('<option value="'.concat(t.value,'">').concat(t.label,"</option>")).appendTo(e)})),y.forEach((function(e){$('<option value="'.concat(e.value,'">').concat(e.label,"</option>")).appendTo(n)})),m.forEach((function(e){$('<option value="'.concat(e.value,'">').concat(e.label,"</option>")).appendTo(t)})),g.forEach((function(e){$('<option value="'.concat(e.value,'">').concat(e.label,"</option>")).appendTo(a)})),v.forEach((function(e){$('<option value="'.concat(e.value,'">').concat(e.label,"</option>")).appendTo(o)})),Z("time")<2&&a.closest("div.input-group").hide();var i=$('div.data-filters input[type="text"], div.data-filters select'),r=$("div.data-filters-summary");i.change((function(){var n=$(this);if(n.is(e)){var a=b[n.val()];a&&t.val(a)}_()})),i.filter('[name="address"]').keydown((function(e){9!=e.keyCode&&$(this).data("hasbeenchanged",!0),13==e.keyCode&&$(this).blur()})),r.on("keypress","div",(function(e){13==e.keyCode&&$(this).click()})),r.on("click","[data-filter]",(function(){var e=$(this).closest("span").attr("data-filter"),t=i.filter('[name="'.concat(e,'"]'));if("SELECT"==t[0].tagName){var n=t.find("option").first().prop("value");t.val(n).change()}else{if("INPUT"!=t[0].tagName||"text"!=t.prop("type"))throw"Clear filter: unknown filter type";t.val("").change()}}))}(),$("i[data-tooltip]").each((function(){var e=$(this),t=$(this).attr("data-tooltip");e.attr("data-tooltip-content",'#tooltip_contents > div[data-tooltip="'.concat(t,'"]')).tooltipster({trigger:"click",animation:"fade",animationDuration:150,distance:0,maxWidth:400,minWidth:300,side:["right","left","bottom","top"],contentCloning:!0,interactive:!0,functionBefore:function(e,t){jQuery.each(jQuery.tooltipster.instances(),(function(e,t){t.close()}))}})})),i=$("#printpagebutton"),r=$("#map").parent("div").get(0),C=r.className,D=$("#incidence-barchart"),i.data("ready-html",i.html()),i.data("busy-html",'<i class="fa fa-clock"></i> Printing'),window.addEventListener("beforeprint",(function(){r.className="col-12",e.invalidateSize(),i.html(i.data("busy-html")),D.addClass("printing"),window.dispatchEvent(new Event("resize"))})),window.addEventListener("afterprint",(function(){D.removeClass("printing"),r.className=C,e.invalidateSize(),i.html(i.data("ready-html"))})),S=$("#downloadbutton"),A=S.children("i.fa").last(),O=(j=$("#downloadoptions")).find("a"),B=O.filter('[data-export="map"]'),S.click((function(){j.not(".d-none").length?(A.addClass("fa-caret-down").removeClass("fa-caret-up"),j.addClass("d-none"),j.attr("aria-expanded","false")):(A.addClass("fa-caret-up").removeClass("fa-caret-down"),j.removeClass("d-none"),j.attr("aria-expanded","true"))})),O.click((function(e){e.stopPropagation()})),B.click((function(){var t=e.choroplethcontrol.getSelectionLabel().replace("%","Percent").replace(/\W/,""),n="MapExport-".concat(t);e.printplugin.printMap("CurrentSize",n)})),B.data("ready-html",B.html()),B.data("busy-html",'<i class="fa fa-clock"></i> One Moment'),e.on("easyPrint-start",(function(){B.html(B.data("busy-html"))})),e.on("easyPrint-finished",(function(){B.html(B.data("ready-html"))})),e.on("easyPrint-start",(function(){var t=e.getSize(),n=e.getContainer();n.style.width="".concat(t.x,"px"),n.style.height="".concat(t.y,"px"),e.choroplethcontrol.setPrintMode(!0)})),e.on("easyPrint-finished",(function(){var t=e.getContainer();t.style.removeProperty("width"),t.style.removeProperty("height"),e.choroplethcontrol.setPrintMode(!1)})),(W=$("#learn-faq button.usa-accordion__button")).click((function(e){var t=$(this),n=t.closest("h2").next(".usa-accordion__content");"true"==t.attr("aria-expanded")?(t.attr("aria-expanded","false"),n.attr("hidden","")):(t.attr("aria-expanded","true"),n.removeAttr("hidden")),e.preventDefault()})),$("#learn-faq .faqs_toggle button").click((function(){var e=$(this);"Collapse All FAQs"==e.text()?(W.filter('[aria-expanded="true"]').click(),e.text("Expand All FAQs")):(W.filter('[aria-expanded="false"]').click(),e.text("Collapse All FAQs"))})),$('div.data-filters select[name="site"]').change((function(){H("search","site",U("site",$(this).val()))})),$('div.data-filters select[name="sex"]').change((function(){H("search","sex",U("sex",$(this).val()))})),$('div.data-filters select[name="race"]').change((function(){H("search","race",U("race",$(this).val()))})),$('div.data-filters input[name="address"]').change((function(){var e=$(this).val();e&&H("search","address",e)})),$("#printpagebutton").click((function(){H("export","print")})),$('#downloadoptions a[data-export="map"]').click((function(){H("export","mapimage")})),$('#downloadoptions a[data-export="zonedata"]').click((function(){H("export","zonedata",$(this).attr("data-ctaid"))})),$('#downloadoptions a[data-export="alldata"]').click((function(){H("export","alldata")})),$('#learn-text ul.nav a[data-toggle="tab"]').on("shown.bs.tab",(function(){H("learn","tabchange",$(this).text())})),F=(Q=$("#termsofusemodal")).find("button"),G=$("#above-map"),$(window).resize((function(){var e=$("#above-map").height()+$("#search-and-map").height()+$("#filters-and-aairbarchart").height()+$("#demographic-tables").height()+25,t=$("#search-and-map").width()+15+15;Q.css({height:"".concat(e,"px"),width:"".concat(t,"px"),top:"".concat(G.offset().top,"px"),left:"".concat(G.offset().left,"px")})})),F.click((function(){document.cookie="termsaccepted=true;max-age=31536000",Q.addClass("d-none")})),document.cookie.split(";").filter((function(e){return e.indexOf("termsaccepted=true")>=0})).length||setTimeout((function(){$(window).resize(),Q.removeClass("d-none")}),500),function(){var t=$('div.data-filters input[type="text"], div.data-filters select'),n=new URLSearchParams(window.location.search);if(["address","site","sex","race","time"].forEach((function(e){var a=t.filter('[name="'.concat(e,'"]')),o=n.get(e);o&&a.val(o)})),n.get("address")&&$('div.data-filters input[type="text"], div.data-filters select').filter('[name="address"]').data("hasbeenchanged",!0),n.get("overlays")){var a=n.get("overlays").split(",");e.layerpicker.getLayerStates().forEach((function(t){var n=-1!=a.indexOf(t.id);e.layerpicker.toggleLayer(t.id,n)}))}n.get("choropleth")?e.choroplethcontrol.setSelection(n.get("choropleth")):e.choroplethcontrol.setSelection("AAIR")}(),_(),setInterval((function(){var e,t,n;e=-1==document.location.href.indexOf("?")?document.location.href:document.location.href.substr(0,document.location.href.indexOf("?")),t=R(!0),n=e+"?"+jQuery.param(t),window.history.replaceState({},"",n)}),1e3)}))}))})();
//# sourceMappingURL=index.js.map